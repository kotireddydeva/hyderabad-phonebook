{"ast":null,"code":"import _objectSpread from\"D:/Sravathi Learning/hyderabad-phonebook/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ServiceForm(){const[formData,setFormData]=useState({name:'',service:'',area:'',phone:'',secretKey:''});const[message,setMessage]=useState('');const areaOptions=['Kukatpally','Ameerpet','Bachupally','Kushayiguda'];const serviceOptions=['Electrician','Plumber','Carpenter','Painter','Mechanic'];const handleChange=e=>{const{name,value}=e.target;setFormData(prev=>_objectSpread(_objectSpread({},prev),{},{[name]:value}));};const handleSubmit=async()=>{const{name,service,area,phone,secretKey}=formData;if(!name||!service||!area||!phone||!secretKey){return setMessage('❗All fields are required.');}try{const res=await axios.post('https://hyderabad-phonebook.onrender.com/api/services/add',formData);if(res.data.success){setMessage('✅ Service added successfully!');setFormData({name:'',service:'',area:'',phone:'',secretKey:''});}}catch(err){var _err$response;if(((_err$response=err.response)===null||_err$response===void 0?void 0:_err$response.status)===409){setMessage('⚠️ This phone number already exists.');}else{setMessage('❌ Error adding service.');}}};return/*#__PURE__*/_jsxs(\"div\",{className:\"form-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\u2795 Add Service Provider\"}),/*#__PURE__*/_jsx(\"input\",{name:\"name\",value:formData.name,onChange:handleChange,placeholder:\"Name\"}),/*#__PURE__*/_jsxs(\"select\",{name:\"service\",value:formData.service,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Service\"}),serviceOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},opt))]}),/*#__PURE__*/_jsxs(\"select\",{name:\"area\",value:formData.area,onChange:handleChange,children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Area\"}),areaOptions.map(opt=>/*#__PURE__*/_jsx(\"option\",{value:opt,children:opt},opt))]}),/*#__PURE__*/_jsx(\"input\",{name:\"phone\",value:formData.phone,onChange:handleChange,placeholder:\"Phone\"}),/*#__PURE__*/_jsx(\"input\",{name:\"secretKey\",value:formData.secretKey,onChange:handleChange,placeholder:\"Secret Key (for delete)\"}),/*#__PURE__*/_jsx(\"button\",{onClick:handleSubmit,children:\"Submit\"}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"msg\",children:message})]});}export default ServiceForm;","map":{"version":3,"names":["React","useState","axios","jsx","_jsx","jsxs","_jsxs","ServiceForm","formData","setFormData","name","service","area","phone","secretKey","message","setMessage","areaOptions","serviceOptions","handleChange","e","value","target","prev","_objectSpread","handleSubmit","res","post","data","success","err","_err$response","response","status","className","children","onChange","placeholder","map","opt","onClick"],"sources":["D:/Sravathi Learning/hyderabad-phonebook/frontend/src/components/ServiceForm.js"],"sourcesContent":["import React, { useState } from 'react';\r\nimport axios from 'axios';\r\n\r\nfunction ServiceForm() {\r\n  const [formData, setFormData] = useState({\r\n    name: '',\r\n    service: '',\r\n    area: '',\r\n    phone: '',\r\n    secretKey: ''\r\n  });\r\n\r\n  const [message, setMessage] = useState('');\r\n\r\n  const areaOptions = ['Kukatpally', 'Ameerpet', 'Bachupally', 'Kushayiguda'];\r\n  const serviceOptions = ['Electrician', 'Plumber', 'Carpenter', 'Painter', 'Mechanic'];\r\n\r\n  const handleChange = (e) => {\r\n    const { name, value } = e.target;\r\n    setFormData(prev => ({ ...prev, [name]: value }));\r\n  };\r\n\r\n  const handleSubmit = async () => {\r\n    const { name, service, area, phone, secretKey } = formData;\r\n    if (!name || !service || !area || !phone || !secretKey) {\r\n      return setMessage('❗All fields are required.');\r\n    }\r\n\r\n    try {\r\n      const res = await axios.post('https://hyderabad-phonebook.onrender.com/api/services/add', formData);\r\n      if (res.data.success) {\r\n        setMessage('✅ Service added successfully!');\r\n        setFormData({ name: '', service: '', area: '', phone: '', secretKey: '' });\r\n      }\r\n    } catch (err) {\r\n      if (err.response?.status === 409) {\r\n        setMessage('⚠️ This phone number already exists.');\r\n      } else {\r\n        setMessage('❌ Error adding service.');\r\n      }\r\n    }\r\n  };\r\n\r\n  return (\r\n    <div className=\"form-box\">\r\n      <h2>➕ Add Service Provider</h2>\r\n\r\n      <input name=\"name\" value={formData.name} onChange={handleChange} placeholder=\"Name\" />\r\n\r\n      <select name=\"service\" value={formData.service} onChange={handleChange}>\r\n        <option value=\"\">Select Service</option>\r\n        {serviceOptions.map(opt => (\r\n          <option key={opt} value={opt}>{opt}</option>\r\n        ))}\r\n      </select>\r\n\r\n      <select name=\"area\" value={formData.area} onChange={handleChange}>\r\n        <option value=\"\">Select Area</option>\r\n        {areaOptions.map(opt => (\r\n          <option key={opt} value={opt}>{opt}</option>\r\n        ))}\r\n      </select>\r\n\r\n      <input name=\"phone\" value={formData.phone} onChange={handleChange} placeholder=\"Phone\" />\r\n      <input name=\"secretKey\" value={formData.secretKey} onChange={handleChange} placeholder=\"Secret Key (for delete)\" />\r\n\r\n      <button onClick={handleSubmit}>Submit</button>\r\n\r\n      {message && <p className=\"msg\">{message}</p>}\r\n    </div>\r\n  );\r\n}\r\n\r\nexport default ServiceForm;"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}