{"ast":null,"code":"import _objectSpread from\"D:/Sravathi Learning/hyderabad-phonebook/frontend/node_modules/@babel/runtime/helpers/esm/objectSpread2.js\";import React,{useState}from'react';import axios from'axios';import Rating from'./Rating';import{jsx as _jsx,jsxs as _jsxs}from\"react/jsx-runtime\";function ServiceList(){const[area,setArea]=useState('');const[service,setService]=useState('');const[results,setResults]=useState([]);const[deleteData,setDeleteData]=useState({phone:'',secretKey:''});const[message,setMessage]=useState('');const areaOptions=['Kukatpally','Ameerpet','Bachupally','Kushayiguda'];const serviceOptions=['Electrician','Plumber','Carpenter','Painter','Mechanic'];const search=async()=>{if(!area&&!service){return setMessage('‚ùóEnter at least Area or Service to search');}try{const res=await axios.get(\"https://hyderabad-phonebook.onrender.com/api/services/search\",{params:{area,service}});setResults(res.data);setMessage('');}catch(err){setMessage('‚ùå Failed to fetch results');}};const handleDelete=async()=>{const{phone,secretKey}=deleteData;if(!phone||!secretKey)return setMessage('‚ùóBoth phone and secret key are required');try{const res=await axios.post(\"https://hyderabad-phonebook.onrender.com/api/services/delete\",deleteData);setMessage('‚úÖ Service deleted successfully');setDeleteData({phone:'',secretKey:''});setResults(results.filter(r=>r.phone!==phone));// remove from list\n}catch(err){setMessage('‚ùå Could not delete. Check phone/secret key');}};return/*#__PURE__*/_jsxs(\"div\",{children:[/*#__PURE__*/_jsxs(\"div\",{className:\"search-box\",children:[/*#__PURE__*/_jsx(\"h2\",{children:\"\\uD83D\\uDD0D Search Service Providers\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"search-bar\",children:[/*#__PURE__*/_jsxs(\"select\",{value:area,onChange:e=>setArea(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Area\"}),areaOptions.map(a=>/*#__PURE__*/_jsx(\"option\",{value:a,children:a},a))]}),/*#__PURE__*/_jsxs(\"select\",{value:service,onChange:e=>setService(e.target.value),children:[/*#__PURE__*/_jsx(\"option\",{value:\"\",children:\"Select Service\"}),serviceOptions.map(s=>/*#__PURE__*/_jsx(\"option\",{value:s,children:s},s))]}),/*#__PURE__*/_jsx(\"button\",{onClick:search,children:\"Search\"})]})]}),message&&/*#__PURE__*/_jsx(\"p\",{className:\"msg\",children:message}),results.length===0&&/*#__PURE__*/_jsx(\"p\",{style:{textAlign:'center',color:'#999'},children:\"No services found.\"}),results.map(s=>/*#__PURE__*/_jsxs(\"div\",{className:\"service-card\",children:[/*#__PURE__*/_jsx(\"h3\",{children:s.name}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Service:\"}),\" \",s.service]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Area:\"}),\" \",s.area]}),/*#__PURE__*/_jsxs(\"p\",{children:[/*#__PURE__*/_jsx(\"strong\",{children:\"Phone:\"}),\" \",s.phone]}),/*#__PURE__*/_jsx(Rating,{id:s.id,rating:s.rating})]},s.id)),/*#__PURE__*/_jsxs(\"div\",{className:\"delete-box\",children:[/*#__PURE__*/_jsx(\"h3\",{children:\"\\uD83D\\uDDD1 Delete Your Entry\"}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Phone number\",value:deleteData.phone,onChange:e=>setDeleteData(_objectSpread(_objectSpread({},deleteData),{},{phone:e.target.value}))}),/*#__PURE__*/_jsx(\"input\",{placeholder:\"Secret Key\",value:deleteData.secretKey,onChange:e=>setDeleteData(_objectSpread(_objectSpread({},deleteData),{},{secretKey:e.target.value}))}),/*#__PURE__*/_jsx(\"button\",{onClick:handleDelete,children:\"Delete\"})]})]});}export default ServiceList;","map":{"version":3,"names":["React","useState","axios","Rating","jsx","_jsx","jsxs","_jsxs","ServiceList","area","setArea","service","setService","results","setResults","deleteData","setDeleteData","phone","secretKey","message","setMessage","areaOptions","serviceOptions","search","res","get","params","data","err","handleDelete","post","filter","r","children","className","value","onChange","e","target","map","a","s","onClick","length","style","textAlign","color","name","id","rating","placeholder","_objectSpread"],"sources":["D:/Sravathi Learning/hyderabad-phonebook/frontend/src/components/ServiceList.js"],"sourcesContent":["import React, { useState } from 'react';\nimport axios from 'axios';\nimport Rating from './Rating';\n\nfunction ServiceList() {\n  const [area, setArea] = useState('');\n  const [service, setService] = useState('');\n  const [results, setResults] = useState([]);\n  const [deleteData, setDeleteData] = useState({ phone: '', secretKey: '' });\n  const [message, setMessage] = useState('');\n\n  const areaOptions = ['Kukatpally', 'Ameerpet', 'Bachupally', 'Kushayiguda'];\n  const serviceOptions = ['Electrician', 'Plumber', 'Carpenter', 'Painter', 'Mechanic'];\n\n  const search = async () => {\n    if (!area && !service) {\n      return setMessage('‚ùóEnter at least Area or Service to search');\n    }\n\n    try {\n      const res = await axios.get(`https://hyderabad-phonebook.onrender.com/api/services/search`, {\n        params: { area, service }\n      });\n      setResults(res.data);\n      setMessage('');\n    } catch (err) {\n      setMessage('‚ùå Failed to fetch results');\n    }\n  };\n\n  const handleDelete = async () => {\n    const { phone, secretKey } = deleteData;\n    if (!phone || !secretKey) return setMessage('‚ùóBoth phone and secret key are required');\n\n    try {\n      const res = await axios.post(`https://hyderabad-phonebook.onrender.com/api/services/delete`, deleteData);\n      setMessage('‚úÖ Service deleted successfully');\n      setDeleteData({ phone: '', secretKey: '' });\n      setResults(results.filter(r => r.phone !== phone)); // remove from list\n    } catch (err) {\n      setMessage('‚ùå Could not delete. Check phone/secret key');\n    }\n  };\n\n  return (\n    <div>\n      <div className=\"search-box\">\n        <h2>üîç Search Service Providers</h2>\n        <div className=\"search-bar\">\n          <select value={area} onChange={(e) => setArea(e.target.value)}>\n            <option value=\"\">Select Area</option>\n            {areaOptions.map((a) => <option key={a} value={a}>{a}</option>)}\n          </select>\n\n          <select value={service} onChange={(e) => setService(e.target.value)}>\n            <option value=\"\">Select Service</option>\n            {serviceOptions.map((s) => <option key={s} value={s}>{s}</option>)}\n          </select>\n\n          <button onClick={search}>Search</button>\n        </div>\n      </div>\n\n      {message && <p className=\"msg\">{message}</p>}\n\n      {results.length === 0 && <p style={{ textAlign: 'center', color: '#999' }}>No services found.</p>}\n\n      {results.map((s) => (\n        <div key={s.id} className=\"service-card\">\n          <h3>{s.name}</h3>\n          <p><strong>Service:</strong> {s.service}</p>\n          <p><strong>Area:</strong> {s.area}</p>\n          <p><strong>Phone:</strong> {s.phone}</p>\n          <Rating id={s.id} rating={s.rating} />\n        </div>\n      ))}\n\n      <div className=\"delete-box\">\n        <h3>üóë Delete Your Entry</h3>\n        <input\n          placeholder=\"Phone number\"\n          value={deleteData.phone}\n          onChange={(e) => setDeleteData({ ...deleteData, phone: e.target.value })}\n        />\n        <input\n          placeholder=\"Secret Key\"\n          value={deleteData.secretKey}\n          onChange={(e) => setDeleteData({ ...deleteData, secretKey: e.target.value })}\n        />\n        <button onClick={handleDelete}>Delete</button>\n      </div>\n    </div>\n  );\n}\n\nexport default ServiceList;\n"],"mappings":"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","ignoreList":[]},"metadata":{},"sourceType":"module","externalDependencies":[]}